Add a new optional feature called “Social Jet Lag” inside the existing Settings panel (in the same settings-grid as Sleep Latency / Cycle Length / Wake Window / Time Format).
Goal: Help users see how different their weekday wake time is from their weekend wake time, and suggest a “smoother” weekend target that reduces Monday grogginess.
UI requirements
Add a new Settings group labeled Social Jet Lag
Include a simple On/Off toggle (default Off; persist in localStorage)
When Off: hide inputs and show “Off” status
When On: show two time inputs:
Weekday wake (default 07:00)
Weekend wake (default 09:00)
Under the inputs, display a small results line:
“Social jet lag: Xh Ym (later/earlier on weekends)”
“Smoother weekend target: HH:MM” (cap weekend drift to max +60 minutes later than weekday)
Save the toggle state and both times to localStorage and restore on page load
Calculation logic
Convert times “HH:MM” to minutes since midnight
Compute the difference between weekend and weekday wake times.
If weekend is earlier, treat as 0 (or show “earlier” if you want; but avoid negative confusion)
Jet lag amount = absolute difference in minutes
Severity labels:
>= 120 minutes → “High”
>= 60 minutes → “Moderate”
>= 30 minutes → “Mild”
else “Low”
Suggested smoother weekend wake:
weekdayWake + min(diff, 60 minutes)
Output as time formatted in the current selected time format (12h/24h)
Update the displayed jet lag message live whenever:
toggle changes
either time input changes
time format toggles
Integration / placement
Put the Social Jet Lag setting block inside #settingsGrid, near Wake Window (it’s a schedule flexibility feature).
If there is an “Insights” area below results, optionally mirror the same message there (nice-to-have).
Keep everything vanilla JS (no frameworks), matching existing styling.
Accessibility / polish
Toggle should set aria-pressed or use role="switch" with aria-checked
Respect prefers-reduced-motion (no required animations)
The results line should use aria-live="polite" so screen readers announce updates
Deliverables
Update index.html with the new Settings block
Update styles.css with minimal styling consistent with the NightOwl “glass” UI
Update script.js with helper functions:
timeToMinutes("HH:MM")
minutesToTime(mins) (wrap 24h)
formatDuration(mins)
updateSocialJetLag() + event listeners + localStorage init